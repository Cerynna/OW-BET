(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t(54)},29:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(20),c=t.n(r),s=t(10),o=(t(29),t(57)),u=t(56),m=t(2),i=t.n(m),v=t(7);console.log(i.a.load("bets"));var d=i.a.load("bets");function E(e){var a=e.week;function t(e){var a=new Date(e),t=a.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()];return a.getDate()+" "+n+" "+t}var n=a.matches.map(function(e){return l.a.createElement(p,{match:e,key:e.id})});return l.a.createElement("div",{className:"Week"},l.a.createElement("div",{className:"info flex"},l.a.createElement("div",{className:"name"},a.name),l.a.createElement("div",{className:"date start"},t(a.startDate)),l.a.createElement("div",{className:"date separator"},"-"),l.a.createElement("div",{className:"date end"},t(a.endDate))),l.a.createElement("div",{className:"Matchs flex center"},n))}function p(e){var a=e.match,t=a.competitors[0];t.score=a.scores[0].value;var r=a.competitors[1];r.score=a.scores[1].value;var c=Object(n.useRef)(),s=Object(n.useRef)();return l.a.createElement("div",{className:"Match flex",onMouseLeave:function(){i.a.load("login")&&v.post("api/sendBet",{scoreA:c.current.value,scoreB:s.current.value,idMatch:a.id,user:i.a.load("user")}).then(function(e){i.a.save("bets",e.data,{path:"/"})}).catch(function(e){console.log(e)})}},l.a.createElement("div",{className:"TeamA flex"},l.a.createElement("img",{src:t.logo,alt:t.abbreviatedName}),l.a.createElement("div",{className:"tag"},t.abbreviatedName),l.a.createElement("div",{className:"score"},l.a.createElement("div",{className:"value"},t.score),i.a.load("login")?l.a.createElement("div",{className:"bet"},l.a.createElement("input",{type:"text",name:"TeamA",className:"scoreInput",ref:c,disabled:!0,defaultValue:d.hasOwnProperty(a.id)?d[a.id].scoreA:""}),l.a.createElement("div",{className:"lilbtn",onClick:function(){var e=parseInt(c.current.value);isNaN(parseInt(s.current.value))?s.current.value=0:s.current.value=s.current.value,isNaN(e)?c.current.value=1:c.current.value=e+1>5?5:e+1}},"+"),l.a.createElement("div",{className:"lilbtn",onClick:function(){var e=parseInt(c.current.value);isNaN(parseInt(s.current.value))?s.current.value=0:s.current.value=s.current.value,isNaN(e)||e-1<0?c.current.value=0:c.current.value=e-1}},"-")):"")),l.a.createElement("div",{className:"separator"}),l.a.createElement("div",{className:"TeamB flex"},l.a.createElement("img",{src:r.logo,alt:r.abbreviatedName}),l.a.createElement("div",{className:"score"},l.a.createElement("div",{className:"value"},r.score),i.a.load("login")?l.a.createElement("div",{className:"bet"},l.a.createElement("input",{type:"text",name:"TeamB",className:"scoreInput",ref:s,defaultValue:d.hasOwnProperty(a.id)?d[a.id].scoreB:""}),l.a.createElement("div",{className:"lilbtn",onClick:function(){var e=parseInt(s.current.value);isNaN(parseInt(c.current.value))?c.current.value=0:c.current.value=c.current.value,isNaN(e)?s.current.value=1:s.current.value=e+1>5?5:e+1}},"+"),l.a.createElement("div",{className:"lilbtn",onClick:function(){var e=parseInt(s.current.value);isNaN(parseInt(c.current.value))?c.current.value=0:c.current.value=c.current.value,isNaN(e)||e-1<0?s.current.value=0:s.current.value=e-1}},"-")):""),l.a.createElement("div",{className:"tag"},r.abbreviatedName)),l.a.createElement("div",{className:"myBets"}))}var g=function(e){var a=e.weeks.map(function(e){return l.a.createElement(E,{week:e,key:e.id})});return l.a.createElement("div",null,l.a.createElement("h2",null,"Matches"),l.a.createElement("div",{className:"Weeks"},a))},f=t(58),h=t(7);function N(e){var a=e.team;return console.log(a),l.a.createElement("div",{className:"team"},l.a.createElement("div",{className:"name"},a.name),l.a.createElement("div",{className:"img"},l.a.createElement("img",{src:a.logo,alt:a.alt})))}var b=Object(f.a)(function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],r=a[1];if(null===t)return h.get("https://api.overwatchleague.com/teams").then(function(e){r(e.data.competitors)}).catch(function(e){console.log(e)}),l.a.createElement("div",null,l.a.createElement("h2",null,"Teams"));var c=t.map(function(e){return l.a.createElement(N,{team:e.competitor,key:e.competitor.id})});return l.a.createElement("div",{className:"Teams"},l.a.createElement("h2",null,"Teams"),l.a.createElement("div",{className:"listTEams flex center six"},c))}),w=t(55),k=t(7);var y=Object(f.a)(function(e){var a=e.history,t=Object(n.useRef)(),r=Object(n.useRef)();return l.a.createElement("div",null,l.a.createElement("h2",null,"Login"),l.a.createElement("div",{className:"loginFrom"},l.a.createElement("label",{htmlFor:"login"},"Pseudo :"),l.a.createElement("input",{type:"text",name:"login",id:"login",ref:t}),l.a.createElement("label",{htmlFor:"password"},"Password :"),l.a.createElement("input",{type:"password",name:"password",id:"password",ref:r}),l.a.createElement("div",{className:"btn",type:"submit",onClick:function(){console.log(t.current.value,r.current.value),k.post("api/login",{login:t.current.value,pass:r.current.value}).then(function(e){e.data.status&&(i.a.save("login",!0,{path:"/"}),i.a.save("user",e.data.data,{path:"/"}),i.a.save("bets",e.data.data.bets,{path:"/"}),console.log(e.data.data),setTimeout(function(){a.push("/")},3e3)),console.log(e.data)}).catch(function(e){console.log(e)})}},"Validez"),l.a.createElement(w.a,{to:"/signIn"},l.a.createElement("div",{className:"btn",type:"submit"},"S'inscrire"))))}),O=t(7);var I=Object(f.a)(function(){var e=Object(n.useRef)(),a=Object(n.useRef)(),t=Object(n.useRef)();return l.a.createElement("div",null,l.a.createElement("h2",null,"SIGNIN"),l.a.createElement("div",{className:"loginFrom"},l.a.createElement("label",{htmlFor:"login"},"Pseudo :"),l.a.createElement("input",{type:"text",name:"login",id:"login",ref:e}),l.a.createElement("label",{htmlFor:"password"},"Password :"),l.a.createElement("input",{type:"password",name:"password",id:"password",ref:a}),l.a.createElement("label",{htmlFor:"passwordtwo"},"Deux fois :"),l.a.createElement("input",{type:"password",name:"passwordtwo",id:"passwordtwo",ref:t}),l.a.createElement("div",{className:"btn",type:"submit",onClick:function(){!function(){console.log(e.current.value,a.current.value,t.current.value);var n=e.current.value,l=a.current.value,r=t.current.value;n.length>3&&l.length>3&&r.length>3&&l.length===r.length&&O.post("api/signIn",{login:e.current.value,pass:a.current.value}).then(function(e){e.data.status&&(i.a.save("login",!0,{path:"/"}),i.a.save("user",e.data.data,{path:"/"}),i.a.save("bets",e.data.data.bets,{path:"/"}),console.log(e.data.data)),console.log(e.data)}).catch(function(e){console.log(e)})}()}},"Valider")))});var j=function(){return i.a.load("login")?l.a.createElement("nav",null,l.a.createElement("div",{className:"menu"},"Menu"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(w.a,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(w.a,{to:"/matches"},"Matches")),l.a.createElement("li",null,l.a.createElement(w.a,{to:"/teams"},"Teams")),l.a.createElement("li",null,l.a.createElement(w.a,{to:"/leaderBoard"},"Classements")),l.a.createElement("li",null,l.a.createElement(w.a,{to:"/logout",onClick:function(){i.a.remove("login"),i.a.remove("user"),i.a.remove("bets")}},"Logout")))):l.a.createElement("nav",null,l.a.createElement("div",{className:"menu"},"Menu"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(w.a,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(w.a,{to:"/matches"},"Matches")),l.a.createElement("li",null,l.a.createElement(w.a,{to:"/teams"},"Teams")),l.a.createElement("li",null,l.a.createElement(w.a,{to:"/login"},"Login"))))},x=t(7);console.log(i.a.load("login"));var M=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],r=a[1];return null===t?(x.get("https://api.overwatchleague.com/schedule").then(function(e){r(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",{className:"App"})):l.a.createElement(o.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"main"},l.a.createElement(j,null),l.a.createElement(u.a,{exact:!0,path:"/",render:function(){return l.a.createElement("h2",null,"Home")}}),l.a.createElement(u.a,{path:"/matches",render:function(){return l.a.createElement(g,{weeks:t.data.stages[0].weeks})}}),l.a.createElement(u.a,{path:"/teams",render:function(){return l.a.createElement(b,null)}}),l.a.createElement(u.a,{path:"/login",render:function(){return l.a.createElement(y,null)}}),l.a.createElement(u.a,{path:"/signIn",render:function(){return l.a.createElement(I,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.1a76a816.chunk.js.map