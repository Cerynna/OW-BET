(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,a){},106:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(45),s=t.n(r),c=t(3),m=(t(55),t(109)),o=t(108),i=t(107),u=t(110),d=t(1),v=t.n(d);var p=Object(u.a)(function(e){var a=e.history;return v.a.load("login")&&v.a.load("user")?l.a.createElement("nav",null,l.a.createElement("div",{className:"menu"},"Menu"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(i.a,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/rules"},"Rules")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/matches"},"Matches")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/teams"},"Teams")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/leaderBoard"},"Classements")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/myProfil/"},"Profil")),l.a.createElement("li",{onClick:function(){v.a.remove("login"),v.a.remove("user"),v.a.remove("bets"),a.go("/")}},l.a.createElement("a",{href:"/"},"Logout")))):l.a.createElement("nav",null,l.a.createElement("div",{className:"menu"},"Menu"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(i.a,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/rules"},"Rules")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/matches"},"Matches")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/teams"},"Teams")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/login"},"Login"))))}),E=t(6);var g=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],r=a[1],s={37:"left",38:"up",39:"right",40:"down",65:"a",66:"b"},m=["up","up","down","down","left","right","left","right","b","a"],o=0;document.addEventListener("keydown",function(e){var a=s[e.keyCode];a===m[o]?(console.log("konami "+a+" tu es un petit malin toi"),++o===m.length&&(r(!t),o=0)):o=0});var i="Konami hide";if(t){i="Konami show",v.a.load("login")&&v.a.load("user")&&E.post("../api/sendAchievement",{achievement:"konami",user:v.a.load("user").login}).catch(function(e){console.log(e)});var u=document.createElement("audio");u.setAttribute("src","/konami/konami.mp3"),u.play()}return l.a.createElement("div",{className:i},l.a.createElement("img",{src:"https://media.giphy.com/media/kFgzrTt798d2w/giphy.gif",alt:""}))};var h=function(e){var a=function(e){for(var a=-1,t=e?e.length:0,n=-1,l=[];++a<t;){var r=e[a];r&&(l[++n]=r)}return l}(e.stages.map(function(e){return e.weeks.find(function(e){return e.startDate<Date.now()&&e.endDate>Date.now()})}))[0].matches.find(function(e){return e.startDateTS>Date.now()}),t=Object(n.useState)(a.startDateTS),r=Object(c.a)(t,2),s=r[0],m=r[1],o=(s-Date.now())/1e3,i=Math.floor(o/86400),u=Math.floor((o-60*i*60*24)/3600),d=Math.floor((o-(60*i*60*24+60*u*60))/60),v=Math.floor(o-(60*i*60*24+60*u*60+60*d));return setTimeout(function(){m(s)},1e3),l.a.createElement("div",{className:"Timer"},l.a.createElement("div",{className:"body"},l.a.createElement("div",{className:"text"},"Prochain Match"),l.a.createElement("div",{className:"team"},l.a.createElement("img",{src:"./imgs/teams/".concat(a.competitors[0].abbreviatedName,".png"),alt:""})),l.a.createElement("div",{className:"timer"},i>0?" ".concat(i," jours"):"",u>0?" ".concat(u,":"):"00",d>0?"".concat(d,":"):"00",v>0?"".concat(v):"00"),l.a.createElement("div",{className:"team"},l.a.createElement("img",{src:"./imgs/teams/".concat(a.competitors[1].abbreviatedName,".png"),alt:""}))))},f=t(6);function b(e){var a=e.match,t=e.inputScoreA,r=e.inputScoreB,s=e.team,m=e.bets,o=Object(n.useState)(Date.now()),i=Object(c.a)(o,1)[0];function u(e){console.log(e),e.current.className="scoreInput change",setTimeout(function(){e.current.className="scoreInput"},500)}var d=Object(n.useState)(Number.isInteger(a.startDate)?a.startDate:a.startDateTS);return i-Object(c.a)(d,1)[0]<=0?"A"===s?l.a.createElement("div",{className:"bet"},l.a.createElement("input",{type:"text",name:"TeamA",className:"scoreInput",ref:t,disabled:!0,defaultValue:m&&m.hasOwnProperty(a.id)?m[a.id].scoreA:""}),l.a.createElement("div",{className:"lilbtn",onClick:function(){u(t);var e=parseInt(t.current.value);isNaN(parseInt(r.current.value))?r.current.value=0:r.current.value=parseInt(r.current.value),isNaN(e)?t.current.value=1:t.current.value=e+1>4?4:e+1}},"+"),l.a.createElement("div",{className:"lilbtn",onClick:function(){u(t);var e=parseInt(t.current.value);isNaN(parseInt(r.current.value))?r.current.value=0:r.current.value=parseInt(r.current.value),isNaN(e)||e-1<0?t.current.value=0:t.current.value=e-1}},"-")):l.a.createElement("div",{className:"bet"},l.a.createElement("input",{type:"text",name:"TeamB",className:"scoreInput",ref:r,disabled:!0,defaultValue:m&&m.hasOwnProperty(a.id)?m[a.id].scoreB:""}),l.a.createElement("div",{className:"lilbtn",onClick:function(){u(r);var e=parseInt(r.current.value);isNaN(parseInt(t.current.value))?t.current.value=0:t.current.value=parseInt(t.current.value),isNaN(e)?r.current.value=1:r.current.value=e+1>4?4:e+1}},"+"),l.a.createElement("div",{className:"lilbtn",onClick:function(){u(r);var e=parseInt(r.current.value);isNaN(parseInt(t.current.value))?t.current.value=0:t.current.value=parseInt(t.current.value),isNaN(e)||e-1<0?r.current.value=0:r.current.value=e-1}},"-")):"A"===s?l.a.createElement("div",{className:"bet"},l.a.createElement("input",{type:"text",name:"TeamA",className:"scoreInput",ref:t,disabled:!0,defaultValue:m&&m.hasOwnProperty(a.id)?m[a.id].scoreA:""})):l.a.createElement("div",{className:"bet"},l.a.createElement("input",{type:"text",name:"TeamB",className:"scoreInput",ref:r,disabled:!0,defaultValue:m&&m.hasOwnProperty(a.id)?m[a.id].scoreB:""}))}var N=function(e){var a=e.match,t=e.bets,r=(e.history,a.competitors[0]);r.score=a.scores[0].value;var s=a.competitors[1];s.score=a.scores[1].value;var c=Object(n.useRef)(),m=Object(n.useRef)();return l.a.createElement("div",{className:"Match flex",onMouseLeave:function(){v.a.load("login")&&t&&f.post("../api/sendBet",{scoreA:c.current.value,scoreB:m.current.value,idMatch:a.id,user:v.a.load("user")}).then(function(e){v.a.save("bets",e.data,{path:"/"})}).catch(function(e){console.log(e)})}},l.a.createElement("div",{className:"date"},l.a.createElement(i.a,{to:"/match/".concat(a.id)},function(e){var a=new Date(e),t=a.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()];return a.getDate()+" "+n+" "+t+" - "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())}(a.startDateTS||a.startDate))),l.a.createElement("div",{className:"TeamA flex"},l.a.createElement("img",{src:r.logo,alt:r.abbreviatedName}),l.a.createElement("div",{className:"tag"},r.abbreviatedName),l.a.createElement("div",{className:"score"},l.a.createElement("div",{className:"value"},r.score),v.a.load("login")&&t?l.a.createElement(b,{inputScoreA:c,inputScoreB:m,match:a,team:"A",bets:t}):"")),l.a.createElement("div",{className:"separator"}),l.a.createElement("div",{className:"TeamB flex"},l.a.createElement("img",{src:s.logo,alt:s.abbreviatedName}),l.a.createElement("div",{className:"score"},l.a.createElement("div",{className:"value"},s.score),v.a.load("login")&&t?l.a.createElement(b,{inputScoreA:c,inputScoreB:m,match:a,team:"B",bets:t}):""),l.a.createElement("div",{className:"tag"},s.abbreviatedName)),l.a.createElement("div",{className:"myBets"}))},y=t(6);function w(e){var a=e.week,t=e.current,n=e.bets;function r(e){var a=new Date(e),t=a.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()];return a.getDate()+" "+n+" "+t}var s=a.matches.map(function(e){return l.a.createElement(N,{match:e,key:e.id,bets:n})});return l.a.createElement("div",{className:a.id===t?"Week show":"Week"},l.a.createElement("div",{className:"info flex "},l.a.createElement("div",{className:"name"},a.name),l.a.createElement("div",{className:"date start"},r(a.startDate)),l.a.createElement("div",{className:"date separator"},"-"),l.a.createElement("div",{className:"date end"},r(a.endDate))),l.a.createElement("div",{className:"Matchs flex center"},s))}var T=Object(u.a)(function(e){var a=e.weeks.length,t=e.weeks.find(function(e){return e.startDate<Date.now()&&e.endDate>Date.now()}),r=Object(n.useState)(t.id),s=Object(c.a)(r,2),m=s[0],o=s[1],i=Object(n.useState)(!!v.a.load("bets")&&v.a.load("bets")),u=Object(c.a)(i,2),d=u[0],p=u[1];v.a.load("login")&&!1===d&&y.get("../api/getPlayer/".concat(v.a.load("user").login)).then(function(e){p(e.data.bets)}).catch(function(e){console.log(e)});var E=e.weeks.map(function(e){return l.a.createElement(w,{week:e,key:e.id,current:m,bets:d})});return l.a.createElement("div",null,l.a.createElement("h2",null,"Matches"),l.a.createElement("div",{className:"changeWeek flex"},l.a.createElement("div",{className:"down"},l.a.createElement("i",{onClick:function(){0!==m&&o(m-1)}},"<")),l.a.createElement("div",{className:"up"},l.a.createElement("i",{onClick:function(){m+1!==a&&o(m+1)}},">"))),l.a.createElement("div",{className:"Weeks"},E))}),k=t(6);function j(e){var a=e.team;return l.a.createElement("div",{className:"team flex one"},l.a.createElement(i.a,{to:"/team/".concat(a.id)},l.a.createElement("div",{className:"img"},l.a.createElement("img",{src:a.logo,alt:a.alt})),l.a.createElement("div",{className:"name"},a.name)))}var O=Object(u.a)(function(){var e=Object(n.useState)(null),a=Object(c.a)(e,2),t=a[0],r=a[1];if(null===t)return k.get("https://api.overwatchleague.com/teams?lang=fr").then(function(e){r(e.data.competitors)}).catch(function(e){console.log(e)}),l.a.createElement("div",null,l.a.createElement("h2",null,"Teams"));var s=t.map(function(e){return l.a.createElement(j,{team:e.competitor,key:e.competitor.id})});return l.a.createElement("div",{className:"Teams"},l.a.createElement("h2",null,"Teams"),l.a.createElement("div",{className:"listTEams flex center two three-600 six-1200"},s))});var x=function(e){var a=e.modal,t=e.toggleModal;return l.a.createElement("div",{className:a.show?"modal show":"modal hide"},l.a.createElement("div",{className:"body"},l.a.createElement("div",{className:"close",onClick:function(){t(!0)}},"X"),l.a.createElement("div",{className:"message"},a.message)))},B=t(48),A=t.n(B)()("http://localhost:5001"),M=t(6);var S=Object(u.a)(function(e){var a=e.history,t=Object(n.useState)({show:!1,message:""}),r=Object(c.a)(t,2),s=r[0],m=r[1],o=Object(n.useRef)(),u=Object(n.useRef)();return l.a.createElement("div",null,l.a.createElement(x,{modal:s,toggleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m({show:!s.show,message:e?s.message:""})}}),l.a.createElement("h2",null,"Login"),l.a.createElement("div",{className:"loginFrom"},l.a.createElement("label",{htmlFor:"login"},"Pseudo :"),l.a.createElement("input",{type:"text",name:"login",id:"login",ref:o}),l.a.createElement("label",{htmlFor:"password"},"Password :"),l.a.createElement("input",{type:"password",name:"password",id:"password",ref:u}),l.a.createElement("div",{className:"btn",type:"submit",onClick:function(){m({show:!0,message:"Wait 1 secondes"}),M.post("api/login",{login:o.current.value,pass:u.current.value}).then(function(e){e.data.status?(v.a.save("bets",e.data.data.bets,{path:"/"}),delete e.data.data.mdp,e.data.data.bets="",v.a.save("login",!0,{path:"/"}),v.a.save("user",e.data.data,{path:"/"}),A.emit("login",e.data.data),a.push("/")):m({show:!0,message:e.data.message}),setTimeout(function(){m({show:!1,message:""})},2500)}).catch(function(e){console.log(e)})}},"Validez"),l.a.createElement(i.a,{to:"/signIn"},l.a.createElement("div",{className:"btn",type:"submit"},"S'inscrire"))))}),P=t(6);var I=Object(u.a)(function(e){var a=e.history,t=Object(n.useRef)(),r=Object(n.useRef)(),s=Object(n.useRef)(),m=Object(n.useState)({show:!1,message:""}),o=Object(c.a)(m,2),i=o[0],u=o[1];return l.a.createElement("div",null,l.a.createElement(x,{modal:i,toggleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u({show:!i.show,message:e?i.message:""})}}),l.a.createElement("h2",null,"SIGNIN"),l.a.createElement("div",{className:"loginFrom"},l.a.createElement("label",{htmlFor:"login"},"Pseudo :"),l.a.createElement("input",{type:"text",name:"login",id:"login",ref:t}),l.a.createElement("label",{htmlFor:"password"},"Password :"),l.a.createElement("input",{type:"password",name:"password",id:"password",ref:r}),l.a.createElement("label",{htmlFor:"passwordtwo"},"Deux fois :"),l.a.createElement("input",{type:"password",name:"passwordtwo",id:"passwordtwo",ref:s}),l.a.createElement("div",{className:"btn",type:"submit",onClick:function(){!function(){console.log(t.current.value,r.current.value,s.current.value);var e=t.current.value,n=r.current.value,l=s.current.value;e.length>3&&n.length>3&&l.length>3?n.length===l.length?P.post("api/signIn",{login:t.current.value,pass:r.current.value}).then(function(e){e.data.status?(v.a.save("login",!0,{path:"/"}),v.a.save("user",e.data.data,{path:"/"}),v.a.save("bets",e.data.data.bets,{path:"/"}),console.log(e.data.data),u({show:!0,message:e.data.message}),setTimeout(function(){a.push("/")},5e3)):u({show:!0,message:e.data.message})}).catch(function(e){console.log(e)}):u({show:!0,message:"Les deux mot de passe que tu as rentr\xe9 ne sont pas identique "}):u({show:!0,message:"Ton Pseudo et/ou ton Mot de passe doivent faire plus de 3 caract\xe8res"})}()}},"Valider")))}),C=t(27),L=t.n(C),D=t(6),H="as9drzlxfqojhjzeomk8qtrrikcbss";function R(e){var a=e.player,t=Object(n.useState)(null),r=Object(c.a)(t,2),s=r[0],m=r[1],o=Object(n.useState)(!1),i=Object(c.a)(o,2),u=i[0],d=i[1];if(null==s)return D.get("https://api.overwatchleague.com/players/".concat(a.id)).then(function(e){m(e.data.data.player)}).catch(function(e){console.log(e)}),l.a.createElement(L.a,{isFlipped:u,key:a.name},l.a.createElement("div",{key:"front",className:"player",onMouseEnter:function(){d(!u)},onMouseLeave:function(){d(!u)}},l.a.createElement("div",{className:"playerName"},a.name),l.a.createElement("div",{className:"playerImg"},l.a.createElement("img",{src:a.headshot,alt:""}))),l.a.createElement("div",{key:"back"},"This is the back of the card.",l.a.createElement("button",{onClick:function(){d(!u)}},"Click to flip")));var v=s.accounts.find(function(e){return"TWITCH"===e.accountType}),p=a.attributes.heroes?a.attributes.heroes.map(function(e){return l.a.createElement("div",{className:"ohi ".concat(e.name),key:e.name})}):null;return l.a.createElement(L.a,{isFlipped:u},l.a.createElement("div",{key:"front",className:"player",onMouseEnter:function(){d(!u)}},l.a.createElement("div",{className:"playerImg"},l.a.createElement("img",{src:a.headshot,alt:""})),l.a.createElement(F,{urlTwitch:v,name:a.name})),l.a.createElement("div",{key:"back",className:"player",onMouseLeave:function(){d(!u)}},l.a.createElement("div",{className:"playerName"},a.givenName,' "',a.name,'" ',a.familyName," "),l.a.createElement("div",{className:"playerInfo"},l.a.createElement("div",{className:"heroPlayed"},null!=p?p.slice(0,4):p)),l.a.createElement(F,{urlTwitch:v,name:a.name})))}function F(e){var a=e.urlTwitch,t=e.name,r=void 0!==a?a.value.split("/").pop():null,s=Object(n.useState)(!1),m=Object(c.a)(s,2),o=m[0],i=m[1];return o||void 0===a||D.get("https://api.twitch.tv/kraken/streams/".concat(r,"?client_id=").concat(H)).then(function(e){null!=e.data.stream&&i(e.data.stream)}).catch(function(e){console.log(e)}),a?l.a.createElement("a",{href:a.value,target:"_blank",rel:"noopener noreferrer",className:o.game?"playerTwitch live":"playerTwitch"},t,o.game):l.a.createElement("div",{className:o.game?"playerTwitch live":"playerTwitch"},t)}var q=Object(u.a)(function(e){var a=e.match,t=e.history,r=Object(n.useState)(null),s=Object(c.a)(r,2),m=s[0],o=s[1],i=Object(n.useState)(a.params.idteam),u=Object(c.a)(i,1)[0];if(null===m)return D.get("https://api.overwatchleague.com/teams/".concat(u)).then(function(e){o(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",null,l.a.createElement("h2",null,"Teams"));var d=m.schedule.map(function(e){return l.a.createElement(N,{match:e,key:e.id})}),p=m.players.map(function(e){return l.a.createElement(R,{player:e,key:e.id})});return l.a.createElement("div",{className:"Team"},l.a.createElement("h2",null,m.name),l.a.createElement("div",{className:"body"},v.a.load("login")?l.a.createElement("div",{className:"loveTeam",onClick:function(){D.post("../api/loveTeam",{teamId:m.abbreviatedName,user:v.a.load("user").name}).then(function(e){v.a.save("user",e.data,{path:"/"}),t.push(t.location.pathname)}).catch(function(e){console.log(e)})}},v.a.load("user")?l.a.createElement("div",{className:v.a.load("user").loveTeam?v.a.load("user").loveTeam===m.abbreviatedName?"btnLoveTeam this":"btnLoveTeam":"btnLoveTeam empty"},"\u2764"):""):"",l.a.createElement("h3",null,"Planning"),l.a.createElement("div",{className:"shedule flex center"},d),l.a.createElement("h3",null,"Roster"),l.a.createElement("div",{className:"roster flex center five-1200 three-800 two-700 one-600"},p)))});var V=Object(u.a)(function(e){return e.stages,l.a.createElement("div",{className:"Home"},l.a.createElement("div",{className:"normal"},"Le site est actuellement en BETA inscrit toi pour en savoir plus et participer a ce projet."),v.a.load("login")?l.a.createElement("div",{className:"alert"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("s",null,"Ajout d'un Chat")," (Probl\xe8me avec le chat qui fait crash le serv donc je l'ai vir\xe9)"),l.a.createElement("li",null,"Ajout des bets pass\xe9 dans le profil public"),l.a.createElement("li",null,"Acces au profil public des joueurs"),l.a.createElement("li",null,"Ajout de plusieur HF"),l.a.createElement("li",null,"Correction de bug si et la"))):"")}),W=t(6);function J(e){var a=e.team,t=a.records[0].comparisons.find(function(e){if("MATCH_GAME_DIFFERENTIAL"===e.key)return e.value}),n=t&&t.value&&t.value>0?{color:"green"}:{color:"red"};return l.a.createElement("div",{className:"teamRanking flex"},l.a.createElement("div",{className:"placement"},a.placement),l.a.createElement("div",{className:"img"},l.a.createElement("img",{src:"imgs/teams/".concat(a.competitor.abbreviatedName,".png"),alt:""})),l.a.createElement("div",{className:"name"},a.competitor.name),l.a.createElement("div",{className:"win",style:n},t?t.value:""),l.a.createElement("div",{className:"win"},a.records[0].matchWin),l.a.createElement("div",{className:"draw"},a.records[0].matchDraw),l.a.createElement("div",{className:"lose"},a.records[0].matchLoss))}function U(e){var a=e.player,t=e.pos;return a.status>1?l.a.createElement("div",{className:"playerRanking flex"},l.a.createElement("div",{className:"placement"},t),l.a.createElement("div",{className:"loveTeam"},l.a.createElement("img",{src:"imgs/teams/".concat(a.loveTeam,".png"),alt:""})),l.a.createElement(_,{player:a}),l.a.createElement("div",{className:"score"},a.score.win),l.a.createElement("div",{className:"score"},a.score.lose),l.a.createElement("div",{className:"score"},a.score.total)):""}function _(e){var a=e.player;return a.visibility||v.a.load("user").status>2?l.a.createElement("div",{className:"name"},l.a.createElement(i.a,{to:"/profil/".concat(a.login)},a.name)):l.a.createElement("div",{className:"name"},a.name)}var z=Object(u.a)(function(){var e,a,t=Object(n.useState)(null),r=Object(c.a)(t,2),s=r[0],m=r[1],o=Object(n.useState)(null),i=Object(c.a)(o,2),u=i[0],d=i[1];if(null===s&&null===u)return W.get("https://api.overwatchleague.com/ranking").then(function(e){var a=e.data.content.sort(function(e,a){return e.placement-a.placement});m(a)}).catch(function(e){console.log(e)}),W.get("api/getPlayersRanking").then(function(e){d(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",null,"LeaderBoard");if(null!==u&&null!==s){var v=1;e=u.map(function(e,a){return u[a-1]&&u[a-1].score.total!==u[a].score.total&&(v+=1),l.a.createElement(U,{player:e,key:e.name,pos:v})}),a=s.map(function(e){return l.a.createElement(J,{team:e,key:e.competitor.id})})}return l.a.createElement("div",{className:"LeaderBoard"},l.a.createElement("h2",null,"Classement"),l.a.createElement("div",{className:"flex center"},l.a.createElement("div",{className:"LeaderBoardTeams"},l.a.createElement("h3",null,"Teams"),l.a.createElement("div",{className:"teamRanking flex"},l.a.createElement("div",{className:"placement"},"pos"),l.a.createElement("div",{className:"img"}),l.a.createElement("div",{className:"name"},"Equipe"),l.a.createElement("div",{className:"win"},"+/-"),l.a.createElement("div",{className:"win"},"W"),l.a.createElement("div",{className:"draw"},"D"),l.a.createElement("div",{className:"lose"},"L")),a),l.a.createElement("div",{className:"LeaderBoardPlayers"},l.a.createElement("h3",null,"Players"),l.a.createElement("div",{className:"playerRanking flex"},l.a.createElement("div",{className:"placement"},"POS"),l.a.createElement("div",{className:"loveTeam"},"\u2764"),l.a.createElement("div",{className:"name"},"Pseudo"),l.a.createElement("div",{className:"score"},"win"),l.a.createElement("div",{className:"score"},"lose"),l.a.createElement("div",{className:"score"},"Score")),e)))}),G=t(6);function K(e){var a=e.data,t=e.user,r=Object(n.useState)(!1),s=Object(c.a)(r,2),m=s[0],o=s[1];if(!1===a.valid&&!0===a.hide)return"";var i=a.messag.split("/");return t.login&&(t.achievement&&t.achievement[a.name]||G.post("../api/sendAchievement",{achievement:a.name,user:t.login}).catch(function(e){console.log(e)})),l.a.createElement("div",{className:a.valid?"Badge true":"Badge false",onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)}},l.a.createElement("div",{className:!0===m?"messag show":"messag"},l.a.createElement("div",{className:"title"},a.title),a.state?l.a.createElement("div",null,l.a.createElement("img",{src:"../imgs/hf/T".concat(a.state,".png"),alt:""}),i.length>1?l.a.createElement("progress",{id:"file",max:i[1],value:i[0]}," ",i[0]):""):a.messag),l.a.createElement("img",{src:"../imgs/hf/".concat(a.icon),alt:""}),a.state?l.a.createElement("div",{className:"state"},l.a.createElement("img",{src:"../imgs/hf/T".concat(a.state,".png"),alt:""})):"")}var Y=function(e){var a=Object(n.useState)(e.user),t=Object(c.a)(a,1)[0],r=[],s={valid:t.inscript/1e3<1551398400,icon:"01.png",title:"First",name:"beta",hide:!0,messag:"Attribu\xe9 au joueur inscrit avant le 01/3/2019 (pendant la B\xe9ta)"};r.push(l.a.createElement(K,{data:s,user:t,key:s.name})),t.achievement&&t.achievement.konami&&(s={valid:t.inscript/1e3<1551398400,icon:"konami.png",title:"OldSchool",name:"konami",hide:!0,messag:"U | U | D | D | L | R | L | R | B | A"},r.push(l.a.createElement(K,{data:s,user:t,key:s.name}))),s={valid:!!t.btag,icon:"03.png",title:"Loot'O'Vor",hide:!0,name:"btag",messag:"Miam"},r.push(l.a.createElement(K,{data:s,user:t,key:s.name})),s={valid:!(!t.btag||!t.mail),icon:"02.png",title:"ValidUser",name:"validUser",hide:!0,messag:"Attribu\xe9 au joueur ayant rempli leurs profil"},r.push(l.a.createElement(K,{data:s,user:t,key:s.name})),s={valid:!!t.loveTeam,icon:"05.png",title:"Mon Equipe de Coeur",name:"loveTeam",hide:!0,messag:"Attribu\xe9 au joueur ayant choisie une Equipe de Coeur"},r.push(l.a.createElement(K,{data:s,user:t,key:s.name})),s={valid:!!t.bets,state:0,icon:"bet.png",title:"Pronostiqueur en herbe",name:"bets-0",hide:!1,messag:"Pronostiqu\xe9 1 match"},t.bets&&t.score.totalBets>=1&&(s.state+=1,s.messag=t.score.totalBets+"/5",s.title="Sorti de l'Iceberg",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=5&&(s.state+=1,s.messag=t.score.totalBets+"/10",s.title="Paresseux",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=10&&(s.state+=1,s.messag=t.score.totalBets+"/15",s.title="Initi\xe9",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=15&&(s.state+=1,s.messag=t.score.totalBets+"/25",s.title="Pile AA",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=25&&(s.state+=1,s.messag=t.score.totalBets+"/50",s.title="Un million de frappes",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=50&&(s.state+=1,s.messag=t.score.totalBets+"/100",s.title="D\xe9lit d'acharnement",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=100&&(s.state+=1,s.messag=t.score.totalBets+"/150",s.title="A rythme de 7H par jour",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=150&&(s.state+=1,s.messag=t.score.totalBets+"/250",s.title="A rythme de 12H par jour",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=250&&(s.state=8,s.messag=t.score.totalBets+"/500",s.title="A rythme de 20H par jour",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=500&&(s.state=8,s.messag=t.score.totalBets+"/1000",s.title="?? ?? ??",s.name="bets-"+s.state),t.bets&&t.score.totalBets>=1e3&&(s.state=8,s.messag=t.score.totalBets+"/\u221d",s.title="Error 404",s.name="bets-"+s.state),r.push(l.a.createElement(K,{data:s,user:t,key:s.name}));var m=Object.keys(t.bets),o=0,i=0,u={win:0,winTeam:0,lose:0,loseTeam:0,full:0,fullTeam:0};return m.map(function(e){if(t.bets[e].valid)switch((t.bets[e].resultA>t.bets[e].resultB?"A":"B")===(t.bets[e].scoreA>t.bets[e].scoreB?"A":"B")?o+=1:i+=1,t.bets[e].type){case"win":u.win+=1;break;case"winTeam":u.winTeam+=1;break;case"lose":u.lose+=1;break;case"loseTeam":u.loseTeam+=1;break;case"full":u.full+=1;break;case"fullTeam":u.fullTeam+=1}return!0}),o>=1&&(s={valid:!0,state:1,icon:"bet-true.png",title:"Le d\xe9but de la gloire",name:"bets-true-1",hide:!1,messag:"".concat(o,"/5")}),o>=5&&(s={valid:!0,state:2,icon:"bet-true.png",title:"Un Pas de plus",name:"bets-true-2",hide:!1,messag:"".concat(o,"/10")}),o>=10&&(s={valid:!0,state:3,icon:"bet-true.png",title:"Le chemin est long",name:"bets-true-3",hide:!1,messag:"".concat(o,"/25")}),r.push(l.a.createElement(K,{data:s,user:t,key:s.name})),i>=1&&(s={valid:!0,state:1,icon:"bet-false.png",title:"Boulet de Bronze",name:"bets-false-1",hide:!1,messag:"".concat(i,"/5")}),i>=5&&(s={valid:!0,state:2,icon:"bet-false.png",title:"Boulet d'Argent",name:"bets-false-2",hide:!1,messag:"".concat(i,"/10")}),i>=10&&(s={valid:!0,state:3,icon:"bet-false.png",title:"Boulet d'Or",name:"bets-false-3",hide:!1,messag:"".concat(i,"/25")}),i>=25&&(s={valid:!0,state:4,icon:"bet-false.png",title:"Boulet de Platine",name:"bets-false-4",hide:!1,messag:"".concat(i,"/50")}),r.push(l.a.createElement(K,{data:s,user:t,key:s.name})),console.log(u),u.fullTeam>=1&&(s={valid:!0,state:1,icon:"fullTeam.png",title:"T'es con, C'est mon \"team\" !!!",name:"fullTeam",hide:!1,messag:"".concat(u.fullTeam,"/5")}),u.fullTeam>=5&&(s={valid:!0,state:2,icon:"fullTeam.png",title:"La confiance",name:"fullTeam",hide:!1,messag:"".concat(u.fullTeam,"/10")}),u.fullTeam>=10&&(s={valid:!0,state:3,icon:"fullTeam.png",title:"Le travaille d'\xe9quipe",name:"fullTeam",hide:!1,messag:"".concat(u.fullTeam,"/25")}),u.fullTeam>=25&&(s={valid:!0,state:4,icon:"fullTeam.png",title:"Good Like",name:"fullTeam",hide:!1,messag:"".concat(u.fullTeam,"/50")}),r.push(l.a.createElement(K,{data:s,user:t,key:s.name})),l.a.createElement("div",{className:"achievement flex"},r)};var X=function(e){var a=e.user,t=Object.keys(a.bets),n=[];t.map(function(e){n[e]={date:a.bets[e].date||0,id:e}}),n.sort(function(e,a){return a.date-e.date});var r=n.map(function(e){var t=e.id,n=a.bets[t];if(n.valid){var r={backgroundImage:'url("../imgs/teams/'.concat(n.TeamA,'.png")')},s={backgroundImage:'url("../imgs/teams/'.concat(n.TeamB,'.png")')},c={border:n.score>0?n.score>20?"2px solid rgb(26, 209, 255)":"2px solid rgb(0, 153, 51)":"2px solid rgb(204, 51, 0)",backgroundColor:n.score>0?n.score>20?"rgba(230, 250, 255)":"rgba(230, 255, 230, 1)":"rgba(255, 230, 230, 1)"};return l.a.createElement("div",{className:"bet flex three",key:t},l.a.createElement("div",{className:"TeamA",style:r},l.a.createElement("img",{src:"../imgs/teams/".concat(n.TeamA,".png"),alt:""})),l.a.createElement("div",null,"R : "),l.a.createElement("div",null,n.resultA),l.a.createElement("div",null,n.resultB),l.a.createElement("div",null,"P :"),l.a.createElement("div",null,n.scoreA),l.a.createElement("div",null,n.scoreB),l.a.createElement("div",{className:"TeamB",style:s},l.a.createElement("img",{src:"../imgs/teams/".concat(n.TeamB,".png"),alt:""})),l.a.createElement("div",{className:"score",style:c},n.score))}});return l.a.createElement("div",{className:"UserBets"},l.a.createElement("div",{className:"flex center six"},r),l.a.createElement("div",{className:"legend flex center six"},l.a.createElement("div",{style:{border:"2px solid rgb(26, 209, 255)",backgroundColor:"rgba(230, 250, 255)",borderRadius:"50%",width:"50px",height:"50px",lineHeight:"50px",textAlign:"center",padding:0,marginLeft:"10px"}},"FULL"),l.a.createElement("div",{style:{border:"2px solid rgb(0, 153, 51)",backgroundColor:"rgba(230, 255, 230, 1)",borderRadius:"50%",width:"50px",height:"50px",lineHeight:"50px",textAlign:"center",padding:0,marginLeft:"10px"}},"win"),l.a.createElement("div",{style:{border:"2px solid rgb(204, 51, 0)",backgroundColor:"rgba(255, 230, 230, 1)",borderRadius:"50%",width:"50px",height:"50px",lineHeight:"50px",textAlign:"center",padding:0,marginLeft:"10px"}},"lose")))},$=t(6);var Q=Object(u.a)(function(e){var a=e.match,t=(e.history,Object(n.useState)(a.params.user)),r=Object(c.a)(t,2),s=r[0],m=r[1],o=Object(n.useState)(null),i=Object(c.a)(o,2),u=i[0],d=i[1];if(null!==u&&s===a.params.user){if(u.error)return l.a.createElement("div",{className:"Profil"},l.a.createElement("h2",null,u.login));var v={backgroundImage:'url("../imgs/teams/'.concat(u.loveTeam,'.png")')};return l.a.createElement("div",{className:"Profil"},l.a.createElement("div",{className:"user"},l.a.createElement("div",{className:"loveTeam",style:v}),l.a.createElement("div",{className:"bigName"},u.name)),l.a.createElement("h2",null,"Haut Fait"),l.a.createElement(Y,{user:u}),l.a.createElement("h2",null,"Pronostic"),u.bets?l.a.createElement(X,{user:u}):"")}if(s===a.params.user)return null!=s&&$.get("../api/getPlayer/".concat(s)).then(function(e){d(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",{className:"Profil"},l.a.createElement("h2",null,a.params.user));m(a.params.user)}),Z=t(49),ee=t.n(Z),ae=t(6);var te=Object(u.a)(function(e){var a=e.history,t=Object(n.useState)({show:!1,message:""}),r=Object(c.a)(t,2),s=r[0],m=r[1],o=Object(n.useState)(v.a.load("user").login),i=Object(c.a)(o,1)[0],u=Object(n.useState)(null),d=Object(c.a)(u,2),p=d[0],E=d[1];return null!=p?(console.log(p.bets),l.a.createElement("div",{className:"Profil"},l.a.createElement(x,{modal:s,toggleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m({show:!s.show,message:e?s.message:""})}}),l.a.createElement("h2",null,"Mon Profil"),l.a.createElement("div",{className:"user flex two center"},l.a.createElement("div",{className:"name "},l.a.createElement("label",{htmlFor:"pseudo"},"Pseudo :",l.a.createElement("input",{type:"text",id:"pseudo",defaultValue:p.name,onBlur:function(e){p.name=e.target.value?e.target.value:p.name,v.a.save("user",p,{path:"/"}),E(p)}}),l.a.createElement("div",{className:"alert"},"Ton pseudo n'est pas ton login"))),l.a.createElement("div",{className:"password"},l.a.createElement("label",{htmlFor:"password"},"Password :",l.a.createElement("input",{type:"password",id:"password",placeholder:"*********",onBlur:function(e){p.mdp=e.target.value?e.target.value:p.mdp,v.a.save("user",p,{path:"/"}),E(p)}}),l.a.createElement("div",{className:"alert"},"Si tu change ton password, tu sera deconnect\xe9"))),l.a.createElement("div",{className:"email"},l.a.createElement("label",{htmlFor:"email"},"Email :",l.a.createElement("input",{type:"text",id:"email",defaultValue:p.mail,onBlur:function(e){p.mail=e.target.value?e.target.value:p.mail,v.a.save("user",p,{path:"/"}),E(p)}}),l.a.createElement("div",{className:"alert"},"Soit avertie de l'avanc\xe9 du projet"))),l.a.createElement("div",{className:"btag"},l.a.createElement("label",{htmlFor:"btag"},"Btag :",l.a.createElement("input",{type:"text",id:"btag",defaultValue:p.btag,onBlur:function(e){p.btag=e.target.value?e.target.value:p.btag,v.a.save("user",p,{path:"/"}),E(p)}}),l.a.createElement("div",{className:"alert"},"Sans btag pas de recompense possible"))),l.a.createElement("div",{className:"visibility"},"Profil Public : (A venir)",l.a.createElement("br",null),l.a.createElement(ee.a,{onChange:function(){p.visibility=!p.visibility||!p.visibility,v.a.save("user",p,{path:"/"}),E(p)},checked:!!p.visibility&&p.visibility,onColor:"#cc682d",activeBoxShadow:"0 0 2px 3px #cc682d"})),l.a.createElement("div",null,"IMG (A venir)"),l.a.createElement("div",{className:"loveTeam"},"LoveTeam :",l.a.createElement("select",null,l.a.createElement("option",{value:p.loveTeam},p.loveTeam," "))),l.a.createElement("div",null),l.a.createElement("div",{className:"submit"},l.a.createElement("div",{className:"btn button",onClick:function(){m({show:!0,message:""}),ae.post("../api/updatePlayer",{user:p}).then(function(e){m({show:!0,message:e.data.message}),e.data.redirect&&setTimeout(function(){v.a.remove("login"),v.a.remove("user"),v.a.remove("bets"),a.push("/")},3e3),setTimeout(function(){m({show:!1,message:""})},4500)}).catch(function(e){console.log(e)})}},"Valider"))),l.a.createElement("h2",null,"Haut Fait"),l.a.createElement(Y,{user:p}),l.a.createElement("h2",null,"Pronostic"),p.bets?l.a.createElement(X,{user:p}):"")):null!=i?(ae.get("../api/getPlayer/".concat(i)).then(function(e){E(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",null)):l.a.createElement("div",null)});var ne=Object(u.a)(function(){return l.a.createElement("div",{className:"Home"},l.a.createElement("div",{className:"normal"},l.a.createElement("h3",null,"R\xe8gles"),l.a.createElement("h4",null,"Base :"),l.a.createElement("p",null,"Vous pronostiquez les r\xe9sultats des matches de l'overwatch league, chaque victoire pronostiqu\xe9 te rapporterons 10 points, chaque r\xe9sultat correct te rapporterons 10 points de plus. "),l.a.createElement("p",null,"C'est simple et compr\xe9hensible par tout le monde"),l.a.createElement("h4",null,"L'\xe9quipe Coeur"),l.a.createElement("p",null,"Chaque semaine, vous pourrez choisir une \xe9quipe qui doublera vos points, m\xeame en cas de d\xe9faite."),l.a.createElement("p",null,"Exemple :"),l.a.createElement("p",null,"Mon \xe9quipe Coeur : Shangai Dragon"),l.a.createElement("p",null,"Match : NYE / SHD"),l.a.createElement("p",null,"Prono : 4 / 0"),l.a.createElement("p",null,"Resultat : 4 / 0"),l.a.createElement("p",null,"J'ai donc pronostiqu\xe9 la d\xe9faite des SHD, j'ai la d\xe9faite (10 points) + le bon r\xe9sultat (10 points) = 20 points x 2 = 40 points"),l.a.createElement("h4",null,"R\xe9compenses :"),l.a.createElement("p",null,"Chaque fin de stage les trois premiers du classement recevront"),l.a.createElement("p",null,"1er : 11 loot box"),l.a.createElement("p",null,"2eme : 5 loot box"),l.a.createElement("p",null,"3eme : 2 loot box"),l.a.createElement("p",null,'(Certaine personne n\'ont que faire des loots box ils pourront donc refuser leurs gains, un tirage au sort auras donc lieux pour "offrir" cet r\xe9compense aune autre personne hors top 3)')))}),le=t(6);function re(e){var a=e.map,t=e.idMatch,r=e.PlayerName,s=(e.game,a.attributes.map||""),m=a.number,o=Object(n.useState)(null),i=Object(c.a)(o,2),u=i[0],d=i[1];return null===u?(le.get("https://api.overwatchleague.com/stats/matches/".concat(t,"/maps/").concat(m)).then(function(e){d(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",null,"Map")):l.a.createElement("div",null,s,l.a.createElement("div",{className:"Stat flex two"},l.a.createElement("div",{className:"TeamA"},a.points[0],l.a.createElement(se,{stat:u.teams[0],PlayerName:r})),l.a.createElement("div",{className:"TeamB"},a.points[1],l.a.createElement(se,{stat:u.teams[1],PlayerName:r}))))}function se(e){var a=e.stat,t=e.PlayerName,n=[];return n.push(l.a.createElement("div",{className:"Players flex",key:0},l.a.createElement("div",{className:"name"},"Pseudo"),l.a.createElement("div",{className:"Heroes"},"Hero"),l.a.createElement("div",{className:"dmg"},"DMG"),l.a.createElement("div",{className:"death"},"X"),l.a.createElement("div",{className:"kill"},"KILL"),l.a.createElement("div",{className:"heal"},"HEAL"))),a.players.map(function(e,a){var r=[];e.heroes.map(function(e){r.push(l.a.createElement("div",{className:"ohi ".concat(e.name),key:e.name}))}),n.push(l.a.createElement("div",{className:"Players flex",key:e.esports_player_id},l.a.createElement("div",{className:"name"},t[e.esports_player_id]," "),l.a.createElement("div",{className:"Heroes"},r),l.a.createElement("div",{className:"dmg"},e.stats[0]?Math.floor(e.stats[0].value):""),l.a.createElement("div",{className:"death"},e.stats[1]?Math.floor(e.stats[1].value):""),l.a.createElement("div",{className:"kill"},e.stats[2]?Math.floor(e.stats[2].value):""),l.a.createElement("div",{className:"heal"},e.stats[3]?Math.floor(e.stats[3].value):"")))}),l.a.createElement("div",{className:"StatMap"},n)}var ce=Object(u.a)(function(e){var a=e.match,t=(e.history,Object(n.useState)(null)),r=Object(c.a)(t,2),s=r[0],m=r[1],o=Object(n.useState)(a.params.idMatch),i=Object(c.a)(o,1)[0];if(null===s)return le.get("https://api.overwatchleague.com/match/".concat(i)).then(function(e){m(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",null,l.a.createElement("h2",null,"MATCH"));var u=[],d=[];console.log(s.competitors[0].players),s.competitors[0].players.map(function(e){var a=e.player;d[a.id]=a.name}),s.competitors[1].players.map(function(e){var a=e.player;d[a.id]=a.name});for(var v=0;v<s.games.length;v++)u.push(l.a.createElement(re,{key:v,idMatch:i,game:s,map:s.games[v],PlayerName:d}));return l.a.createElement("div",{className:"Game"},l.a.createElement("h2",null,"MATCH"),l.a.createElement("div",{className:"flex two"},l.a.createElement("div",null,s.competitors[0].abbreviatedName),l.a.createElement("div",null,s.competitors[1].abbreviatedName)),u)}),me=t(6);var oe=function(){var e=Object(n.useState)(null),a=Object(c.a)(e,2),t=a[0],r=a[1];return null===t?(me.get("https://api.overwatchleague.com/schedule").then(function(e){r(e.data)}).catch(function(e){console.log(e)}),l.a.createElement("div",{className:"App"})):l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(g,null),l.a.createElement(h,{stages:t.data.stages}),l.a.createElement("header",null,l.a.createElement("h1",null,l.a.createElement("span",null,"O"),"ver",l.a.createElement("span",null,"B"),"ets")),l.a.createElement("div",{className:"main"},l.a.createElement(p,null),l.a.createElement(o.a,{exact:!0,path:"/",render:function(){return l.a.createElement(V,{stages:t.data.stages})}}),l.a.createElement(o.a,{path:"/matches",render:function(){return l.a.createElement(T,{weeks:t.data.stages[0].weeks})}}),l.a.createElement(o.a,{path:"/teams",render:function(){return l.a.createElement(O,null)}}),l.a.createElement(o.a,{path:"/login",render:function(){return l.a.createElement(S,null)}}),l.a.createElement(o.a,{path:"/signIn",render:function(){return l.a.createElement(I,null)}}),l.a.createElement(o.a,{path:"/team/:idteam",render:function(){return l.a.createElement(q,null)}}),l.a.createElement(o.a,{path:"/match/:idMatch",render:function(){return l.a.createElement(ce,null)}}),l.a.createElement(o.a,{path:"/leaderBoard",render:function(){return l.a.createElement(z,null)}}),l.a.createElement(o.a,{path:"/stream",render:function(){return l.a.createElement("h2",null,"STREAM")}}),l.a.createElement(o.a,{path:"/profil/:user",render:function(){return l.a.createElement(Q,null)}}),l.a.createElement(o.a,{path:"/myProfil",render:function(){return l.a.createElement(te,null)}}),l.a.createElement(o.a,{path:"/rules",render:function(){return l.a.createElement(ne,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,a,t){e.exports=t(106)},55:function(e,a,t){}},[[50,2,1]]]);
//# sourceMappingURL=main.e2f41ac2.chunk.js.map